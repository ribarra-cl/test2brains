!function(e){function t(t){for(var r,s,u=t[0],l=t[1],i=t[2],p=0,d=[];p<u.length;p++)s=u[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={0:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var c=l;o.push([30,1]),n()}({15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(32),o=n(33),s=n(12),u=n(57),l=n(58),i=n(68);t.firebaseApp=l.initializeApp(i.default);var c=r.createElement(s.BrowserRouter,null,r.createElement("div",null,r.createElement(s.Route,{exact:!0,path:"/",component:o.default}),r.createElement(s.Route,{path:"/users/",component:u.default})));a.render(c,document.getElementById("app"))},2:function(e,t){e.exports=React},30:function(e,t,n){n(31),e.exports=n(15)},32:function(e,t){e.exports=ReactDOM},33:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=n(34);n(35);var u=n(36),l=n(12),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1,user:{name:{title:"",first:"",last:""},login:{uuid:"",username:""},picture:{large:"",medium:"",thumbnail:""},email:""},error:"",username:"whiteleopard798",password:"justine"},t.componentDidMount=function(){t.setState({loading:!0}),t.unsubscribe=s.auth().onAuthStateChanged((function(e){console.log("--user",e),e?u.get("/api/users/"+e.uid).then((function(e){console.log(e.data),t.setState({loading:!1,user:e.data}),t.unsubscribe()})).catch((function(e){console.log(e)})):(t.setState({loading:!1}),console.log("--no user"))}))},t.onChange=function(e){var n=e.target.name;"username"==n&&t.setState({username:e.target.value}),"password"==n&&t.setState({password:e.target.value})},t.onSubmit=function(e){u.post(t.state).then((function(e){var t=e.data,n=t.error,r=t.token;if(n)throw new Error("Usuario o contraseña incorrecta");return s.auth().signInWithCustomToken(r)})).then((function(e){e.user.uid})).catch((function(e){alert(e)})),e.preventDefault()},t.onLogout=function(){s.auth().signOut()},t.render=function(){var e=t.state,n=e.loading,r=e.user;return n?o.createElement("div",{className:"progress"},o.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"}}," ")):r.email?o.createElement(l.Redirect,{to:"/users"}):o.createElement("div",null,o.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark"},o.createElement("div",{className:"navbar-collapse collapse"},o.createElement("ul",{className:"navbar-nav mr-auto"},o.createElement("li",null,o.createElement("a",{href:"#",onClick:t.onLogout},"Hola"))),o.createElement("ul",{className:"navbar-nav ml-auto"},o.createElement("li",null,o.createElement("a",{href:"#",onClick:t.onLogout},"Cerrar sesión"))))),o.createElement("div",{className:"container"},o.createElement("div",{className:"row justify-content-center"},o.createElement("div",{className:"col-sm-auto"},o.createElement("form",{method:"POST",onSubmit:t.onSubmit},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"username"},"Nombre de usuario"),o.createElement("input",{type:"text",name:"username",className:"form-control",id:"username",value:t.state.username,onChange:t.onChange})),o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"password"},"Contraseña"),o.createElement("input",{type:"password",name:"password",className:"form-control",id:"password",value:t.state.password,onChange:t.onChange}),o.createElement("div",{className:"invalid-feedback"},"Please provide a valid city.")),o.createElement("button",{type:"submit",className:"btn btn-primary"},"Ingresar"))))))},t}return a(t,e),t}(o.Component);t.default=i},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.get=function(e){return r.default.get(e,{headers:{"Content-Type":"application/json"}})},t.post=function(e){return r.default.post("/api/users/login",e,{headers:{"Content-Type":"application/json"}})}},57:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=n(17),u=n(15),l=n(12),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loggedIn:!1,loading:!1,users:[]},t.componentDidMount=function(){u.firebaseApp.auth().currentUser?(t.setState({loading:!0}),s.default.get("/api/users/",{headers:{"Content-Type":"application/json"}}).then((function(e){var n=e.data;t.setState({users:n,loading:!1})})).catch((function(e){console.log("--error",e)}))):t.setState({loggedIn:!1})},t.render=function(){var e=t.state,n=e.loggedIn,r=e.loading,a=e.users;return r?o.createElement("p",null,"Cargando"):n?o.createElement("div",null,a.map((function(e){return o.createElement("div",{key:"user-"+e.login.uuid},o.createElement("p",null,"email: ",e.email),o.createElement("p",null,o.createElement("img",{src:e.picture.medium})))}))):o.createElement(l.Redirect,{to:"/"})},t}return a(t,e),t}(o.Component);t.default=i},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={apiKey:"AIzaSyAZ6x5IIxsrn2IhzkcjiXQss4o7ika8zwU",authDomain:"localhost:3000",databaseURL:"https://brains-78452.firebaseio.com",projectId:"brains-78452",storageBucket:"brains-78452.appspot.com",messagingSenderId:"570422194655",appId:"1:570422194655:web:58681ac1f4d23abafe546a",measurementId:"G-H8W77204FP"}}});
//# sourceMappingURL=main.bundle.js.map